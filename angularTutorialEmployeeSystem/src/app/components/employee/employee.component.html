<div class="row">
  <div class="col-8">
    <div class="card">
      <div class="card-header bg-success">Employee Table</div>
      <div class="card-body">
        <div class="row">
          <div class="col-12 roles-table" style="height: 100vh">
            <table class="table">
              <thead>
                <tr>
                  <th>ID No</th>
                  <th>Name</th>
                  <th>Company</th>
                  <th>City</th>
                  <th>Job Title</th>
                  <th>Salary</th>
                </tr>
              </thead>
              <tbody>
                @for (employee of allEmployees; track employee.id) {
                <tr>
                  <td>{{ employee.id }}</td>
                  <td>{{ employee.name }}</td>
                  <td>{{ employee.company }}</td>
                  <td>{{ employee.city }}</td>
                  <td>{{ employee.job }}</td>
                  <td>{{ employee.salary }}</td>
                </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-4">
    <div class="card">
      <div class="card-header bg-success">Add Employee</div>
      <div class="card-body">
        <form class="was-validated" [formGroup]="employeeForm" (ngSubmit)="addEmployee()">
          <div class="row">
            <div class="col-6">
              <label for="name">Name</label>
              <input
                type="text"
                id="name"
                formControlName="name"
                class="form-control"
                required
              />
            </div>
            <div class="col-6">
              <label for="dOb">Date of Birth</label>
              <input
                type="date"
                id="dateOfBirth"
                formControlName="dateOfBirth"
                class="form-control"
                required
              />
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label for="jobTitle">Job Title</label>
              <select
                id="jobTitle"
                formControlName="job"
                class="form-control"
                required>
                @for (job of jobTitles; track $index) {
                <option value="{{ job }}">{{ job }}</option>
                }
            </select>
            </div>
            <div class="col-6">
              <label for="company">Company</label>
              <select
                id="company"
                formControlName="company"
                class="form-control"
                required>
                @for (company of companies; track $index) {
                <option value="{{ company }}">{{ company }}</option>
                }
            </select>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label for="address">Address</label>
              <input
                type="text"
                id="address"
                formControlName="address"
                class="form-control"
                required
              />
            </div>
            <div class="col-6">
              <label for="city">City</label>
              <input
                type="text"
                id="city"
                formControlName="city"
                class="form-control"
                required
              />
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label for="postcode">Postcode</label>
              <input
                type="text"
                id="postcode"
                formControlName="postcode"
                class="form-control"
                required
              />
            </div>
            <div class="col-6">
              <label for="salary">Salary</label>
              <input
                type="number"
                id="salary"
                formControlName="salary"
                class="form-control"
                required
              />
              @if (employeeForm.get('salary')?.touched) {
                <div class="invalid-feedback">You must enter a valid number.</div>
              }
            </div>
            <div class="col-6">
              <label for="yearsOfExperience">Years of Experience</label>
              <input
                type="number"
                id="yearsOfExperience"
                formControlName="yearsOfExperience"
                class="form-control"
                required
              />
              @if (employeeForm.get('yearsOfExperience')?.touched) {
                <div class="invalid-feedback">You must enter a valid number.</div>
              }
            </div>
          </div>
          <button type="submit" class="btn btn-success mt-3" [disabled]="!employeeForm.valid">Submit</button>
        </form>
      </div>
    </div>
    <div class="card mt-2">
      <div class="card-header bg-success"> Actions </div>
        <div class="card-body">
          <h5>Delete Employee</h5>
          <input type="text" class="form-control" placeholder="Enter ID" [(ngModel)]="employeeIdToDelete">
          <button type="button" class="btn btn-danger mt-3" [disabled]="employeeIdToDelete == ''" (click)="deleteEmployee(employeeIdToDelete)">Delete</button>
        </div>

    </div>
  </div>
</div>
